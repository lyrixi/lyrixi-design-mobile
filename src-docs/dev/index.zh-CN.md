# è§„èŒƒæ€»è§ˆ

## å¼€å‘å·¥å…·

- ä½¿ç”¨`vscode`

## æ ¼å¼åŒ–

- ä½¿ç”¨`prettier`æ ¼å¼åŒ–ä»£ç ï¼Œå¹¶å¼€å¯ vscode ä¸­ä¿å­˜æ ¼å¼åŒ–åŠŸèƒ½ï¼ˆé˜²æ­¢å¿˜è®°æ ¼å¼åŒ–ï¼‰

## æ³¨é‡Š

### æ–¹æ³•æ³¨é‡Š

```javascript
/**
 * åŠŸèƒ½ï¼Œå¦‚ï¼šä¿å­˜
 * @param {Object} params // å¦‚æœæ–‡æ¡£é½å…¨ï¼Œå…¥å‚ç®€å•æè¿°ä¸€ä¸‹å°±è¡Œ
 * @document http://172.31.3.113:8080/workspace/myWorkspace.do?projectId=150##4951 // æ–‡æ¡£åœ°å€
 * @returns {Promise} è¿”å›æè¿°
 */
function saveData(params) {
  return new Promise()
}
```

### æ³¨é‡Šä¸Šæ–¹ç©ºä¸€è¡Œ

```javascript
const a = 1

// æ³¨é‡Š
const b = 2
```

## ä¸ä½¿ç”¨ä½¿ç”¨ zustand æˆ– redux

ä½¿ç”¨ useCacheState, å¯ä»¥ä¸ç ´ååŸæœ‰çš„ä»£ç é£æ ¼, ä¹Ÿè±ªæ— å­¦ä¹ æˆæœ¬

## ä¸è¦è¿‡å¤šä½¿ç”¨å­è·¯ç”±ï¼Œä¸€èˆ¬ä¸è¶…è¿‡ä¸¤å±‚

è¿”å›ä¸åˆ·æ–°ä¾ç„¶å¯ä»¥ä½¿ç”¨ useCacheState, ä¼ æŒä¹…åŒ–å‚æ•°, èƒ½å¤Ÿä¸ç ´åå¯è¯»æ€§ä¸”èƒ½è¾¾åˆ°ç›¸åŒçš„æ•ˆæœ

## ä¸¥ç¦åœ°å€æ ç›´æ¥ä¼ é€’ä¸­æ–‡

æ— æ•°æ¬¡æƒ¨ç—›çš„æ•™è®­å‘Šè¯‰æˆ‘ä»¬åœ°å€æ ä¼ é€’ä¸­æ–‡éœ€è¦éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š 1.å°½é‡ä¸è¦åœ¨åœ°å€æ ä¼ é€’ä¸­æ–‡ 2.å¦‚ä¸€å®šè¦ä¸­æ–‡ï¼Œè¯·ç¼–ç ä¸¤æ¬¡ï¼Œæ˜¯ä¸¤æ¬¡

## ä¸è¦é‡å¤é€ è½®å­

ä¼˜å…ˆä½¿ç”¨å…¬å…±åº“

## ä¸è¦ä½¿ç”¨ es æ–¹å¼å¼•å…¥

```javascript
import Layout from 'lyrixi-design-mobile/lib/Layout'
```

ä½¿ç”¨ï¼š

```javascript
import { Layout } from 'lyrixi-design-mobile'
```

## ä¸è¦ä½¿ç”¨ç§æœ‰å±æ€§

ç™¾åº¦åœ°å›¾çš„ç§æœ‰å±æ€§æ˜¯ç»å¸¸å˜çš„ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç  r.Crï¼Œè¿™é‡Œçš„ Cr æ²¡è¿‡å¤šä¹…å°±å»æ‰äº†ï¼Œä¸€å®šè¦ç”¨

```javascript
let local = new BMap.LocalSearch(self.mapUtil.map, {
  renderOptions: { map: map },
  onSearchComplete: function (r) {
    callback && callback(r?.Cr || [])
  }
})
```

## ä¸è¦ä½¿ç”¨å®éªŒå®¤åŠŸèƒ½

ä¾‹å¦‚: [è£…é¥°å™¨](https://github.com/tc39/proposal-decorators)

## ä¸è¦æ”¹ç»„ä»¶ï¼ˆéœ€è¦æˆæƒï¼‰

- æ‰‹æœºç«¯ç»„ä»¶ï¼ˆlibraryï¼‰éœ€è¦ä¿®æ”¹æ‰¾æŸ±å­
- WEB ç«¯ç»„ä»¶ï¼ˆcomponetsã€utilsï¼‰éœ€è¦ä¿®æ”¹æ‰¾å¥å¥

## ä¸è¦ä½¿ç”¨ rest é£æ ¼è·¯ç”±/:id

- ä½¿ç”¨ä¼ ç»Ÿçš„?id=ï¼Œè€Œä¸æ˜¯/id è¿™ç§ rest é£æ ¼çš„ä¼ å‚ï¼ˆè¿™ç§ä¼ å‚é¡ºåºè¿˜æœ‰å­è·¯ç”±ä¼šäº§ç”Ÿæå¤§çš„å½±å“ï¼Œå¹¶ä¸”ä¹Ÿä¸æ–¹ä¾¿é˜…è¯»ï¼‰

- å‚æ•°ä¸€å®šè¦æœ‰éå¸¸æ¸…æ™°åœ°æ³¨é‡Š

```
{/* å®´å¸­ç”³è¯·æ–°å¢ä¸ç¼–è¾‘, å‚æ•°: ?planId=æ–¹æ¡ˆid&planType=æ–¹æ¡ˆç±»å‹id&activityId=ç¼–è¾‘æ´»åŠ¨id*/}
<Route path={`/edit`} element={<Edit />} />
```

- å‚æ•°è¶Šå°‘è¶Šå¥½

## ä¸­æ–‡å¿…é¡»åŒ…è£¹ locale

ä¸­æ–‡ä¸€å¾‹ä½¿ç”¨`locale('ä¸­æ–‡')`åŒ…è£¹

## ç¼©è¿›

ç¼©è¿›ä¸€å¾‹ä½¿ç”¨`ç©ºæ ¼:2`ï¼Œç¦æ­¢ä½¿ç”¨å…¶å®ƒç©ºæ ¼æ•°ç¼©è¿›

## é¡µé¢ä¹¦å†™é¡ºåº

### import é¡ºåº

1. React ç›¸å…³ï¼Œä¾‹å¦‚`import React from 'react'`

2. å·¥å…·:

```bash
1.node_moduleså·¥å…·ï¼Œä¾‹å¦‚`import { useUpdateEffect } from 'ahooks'`

2.å…¬å…±å·¥å…·, ä¾‹å¦‚`import Logger from 'utils/Logger'`

3.å†…éƒ¨å·¥å…·ï¼Œä¾‹å¦‚`import Logger from './Logger'`
```

3. ç»„ä»¶:

```bash
1.node_modulesç»„ä»¶ï¼Œä¾‹å¦‚`import { Form } from 'antd'`

2.å…¬å…±ç»„ä»¶ï¼Œä¾‹å¦‚`import Search from 'components/Search'`

3.å†…éƒ¨ç»„ä»¶ï¼Œä¾‹å¦‚`import Search from './Search'`
```

4. æ ·å¼

- ç¤ºä¾‹

```bash
import React from 'react'

// å·¥å…·
import { useUpdateEffect } from 'ahooks'
import Logger from 'utils/Logger'

// ç»„ä»¶
import { Form } from 'antd'
import Search from './Search'

// æ ·å¼
import '/main.less'
```

### å®ç°ä½“é¡ºåº

1. å£°æ˜å’Œå˜é‡ï¼Œä¾‹å¦‚ï¼šconst state = useState(null)
2. ç”Ÿå‘½å‘¨æœŸï¼Œä¾‹å¦‚ï¼šuseEffect
3. äº‹ä»¶/æ™®é€šæ–¹æ³•

#### åˆ†æ”¯

- åˆ†æ”¯ä»¥ç‰ˆæœ¬å·å‘½åï¼Œå­åˆ†æ”¯ä¸Šçº¿å½“å¤©åˆåˆ°ä¸»åˆ†æ”¯
- éç‰¹æ®Šæƒ…å†µä¸è¦åœ¨ä¸¤ä¸ªåˆ†æ”¯ä¸Šæ”¹ç›¸åŒçš„ä»£ç ï¼ˆæ”¹é—®é¢˜åœ¨ä¸€ä¸ªåˆ†æ”¯ä¸Šæ”¹ï¼Œé€šè¿‡åˆå¹¶çš„æ–¹å¼è§£å†³ï¼‰

## æ•°æ®è§„èŒƒ

- ä¿å­˜æ—¶é—´ä¸€å¾‹ä½¿ç”¨`YYYY-MM-DD hh:mm:ss`çš„æ ¼å¼ä¿å­˜
- è¯¦æƒ…æ•°æ®ä¸è¦é€šè¿‡åˆ—è¡¨å¸¦å…¥, è€Œæ˜¯é€šè¿‡ id è·å–
- web ç«¯ä¸‹é¡µå¸¦å…¥ç­›é€‰æ¡ä»¶ï¼Œä¸€å¾‹é€šè¿‡ top.window.å”¯ä¸€ key é€ä¼ 
- æœ€è¿‘ 7 å¤©è¦ä¼  6: dayjs().subtract(6, 'day')
- åå°è¿”å›æ•°æ®è¦æ±‚: {message:'', code: '1/0', data: ..}
- åˆ—è¡¨æ€§èƒ½é™åˆ¶è¦æ±‚: {message:'', code: '1/0', data: .., pagination: {limit: 5000, url: 'æŸ¥è¯¢æ€»æ¡æ•°æ¥å£åœ°å€, è‹¥æ— åˆ™ä¸æ”¯æŒç‚¹å‡»æŸ¥è¯¢æ€»æ¡æ•°'}}

## å‘½å

### è·¯ç”±ç›®å½•å’Œé¡µé¢ä¸€è‡´

routesã€é¡µé¢è·¯å¾„å¿…é¡»ä¸€è‡´ï¼Œå¹¶ä½¿ç”¨ä¸‹é’»å¼çš„è§„èŒƒï¼Œå¦‚ä¸‹ï¼š

```bash
è·¯ç”±ï¼š/salesManage/salesSwapOrder/edit?menuId=xx
é¡µé¢ï¼š/SalesManage/SalesSwapOrder/Edit/index.js
```

### å¸¸ç”¨é¡µé¢åç§°

é¡µé¢å‘½åï¼šListï¼ˆåˆ—è¡¨ï¼‰ã€Recordï¼ˆæ˜ç»†ï¼‰ã€Editï¼ˆç¼–è¾‘ï¼‰ã€Detailï¼ˆè¯¦æƒ…ï¼‰

### å¸¸ç”¨ç»„ä»¶åç§°

å¤´éƒ¨ Headerã€åº•éƒ¨ Footerã€ä¸­é—´ Mainã€ä¾§è¾¹è¿‡æ»¤ Filter æˆ– Query

### é¡µé¢åŠè¯·æ±‚ç›®å½•å‘½å

```
é¡µé¢å
â”œâ”€utils
â”œâ”€api
â”‚ â”œâ”€queryData(æŸ¥è¯¢æ•°æ®)
â”‚ â”‚ â”œâ”€localData
â”‚ â”‚ â”œâ”€index.js
â”‚ â”œâ”€saveData(ä¿å­˜æ•°æ®)
â”‚ â”‚ â”œâ”€serverData
â”‚ â”‚ â”œâ”€index.js
â”‚ â”œâ”€deleteData(åˆ é™¤æ•°æ®)
â”œâ”€Component1
â”œâ”€Component2
â”œâ”€index.js
```

### class åç§°é˜²æ­¢å…¨å±€æ±¡æŸ“

class å…¨åï¼šç»„ä»¶ä¸ºå…¨å±€æ ·å¼ã€ä¸šåŠ¡éœ€è¦åŠ ä¸Šä¸šåŠ¡æ ‡è¯†ï¼Œä¾‹å¦‚ï¼šmerp-æˆ–è€… dms-ç­‰

### äº‹ä»¶å‘½å

`onXX`ï¼Œå®ç°äº‹ä»¶`handleXX`ï¼šä¾‹å¦‚`onChange`å¯¹åº”`handleChange`ã€‚å¦‚æœåŒ…å«åè¯ï¼Œå°†åè¯æ”¾ä¸­é—´ï¼šä¾‹å¦‚`onVisibleChange`å¯¹åº”`handleVisibleChange`

### æ–¹æ³•å‘½å

åˆå§‹åŒ–`loadData`

### ref å‘½å

`xxRef`ï¼Œä¾‹å¦‚`rootRef`ï¼Œè·å–çš„å®ä½“ dom å…ƒç´ `xxEl`ï¼Œä¾‹å¦‚`rootEl`

### å±æ€§å‘½å

- å¯ç¦ç”¨å±æ€§ï¼šåŠ¨è¯åœ¨å‰ enableXXã€disableXXã€‚
- æ˜¾éšå±æ€§ï¼švisibleï¼Œå¦‚æœ visible ä¸èƒ½è¡¨ç°ï¼Œvisible åœ¨åé¢ï¼ŒxxVisible

## GIT

### ä¸è¦ stashã€pop, é£é™©å¤§

è‹¥æƒ³åˆ‡åˆ†æ”¯, å…ˆæäº¤ä»£ç 

### æ¯å¤© pullã€commitã€push

ä¸ºé˜²æ­¢å‡ºç°ä»£ç è¿˜åŸçš„æƒ…å†µ

### æ¯å¤© merge

ä¸åˆä»£ç é—®é¢˜éå¸¸ä¸¥é‡, ä¼šå¯¼è‡´ä¸Šä¸ªç‰ˆæœ¬ä¿®å¤çš„é—®é¢˜ä¸‹ä¸ªç‰ˆæœ¬åˆå‡ºç°äº†

### push å®Œç­‰ä¸€ä¼šå†åˆ‡åˆ†æ”¯

### å¸¸ç”¨å‘½ä»¤

```bash
// æŸ¥çœ‹å½“å‰ç”¨æˆ·å
git config user.name

// ä¿®æ”¹å½“å‰ç”¨æˆ·å
git config --global user.name 'xx'

// ä¿®æ”¹å½“å‰ç™»å½•å¯†ç 
git config --global user.password 'xx'

// æŸ¥çœ‹å½“å‰ç”¨æˆ·å
git config user.email

// ä¿®æ”¹å½“å‰ç”¨æˆ·å
git config --global user.email 'xx@qince.com'
```

### ä¸è¦ç”¨å·¥å…·æä¾›ä»£ç , é£é™©å¤§

### Git commit è§„èŒƒ

git commit æ ¼å¼å¦‚ä¸‹ï¼š

```
git commit -m '<type>(<scope>): subject'
```

ç¤ºä¾‹:

```bash
git commit -m 'feat(core): new nx starter'
```

æ ¼å¼è¯´æ˜:

ğŸ‘‰ type ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š

- feat: ä¸€ä¸ªæ–°ç‰¹æ€§
- fix: ä¿®å¤ bug
- docs: æ–‡æ¡£ä¿®æ”¹
- style: ä¸å½±å“ä»£ç å«ä¹‰çš„æ›´æ”¹ï¼ˆç©ºæ ¼ã€æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰ï¼‰
- refactor: ä»£ç é‡æ„
- perf: ä¼˜åŒ–æ€§èƒ½
- test: æµ‹è¯•ç”¨ä¾‹ä¿®æ”¹
- chore: å¯¹æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å’Œåº“çš„æ›´æ”¹ï¼Œä¾‹å¦‚æ–‡æ¡£ç”Ÿæˆ

ğŸ‘‰ scopeï¼šå¯ä»¥æ˜¯å½±å“èŒƒå›´çš„ä»»ä½•å†…å®¹ã€‚

ğŸ‘‰ subjectï¼šåŒ…å«å¯¹æ›´æ”¹çš„ç®€æ´æè¿°ï¼Œè§„åˆ™ï¼š

- ä½¿ç”¨é™ˆè¿°è¯­å¥
- ç¬¬ä¸€ä¸ªå­—æ¯ä¸è¦å¤§å†™
- æœ«å°¾æ²¡æœ‰ç‚¹ (.)

### å±æ€¥å¤„ç†

è¿˜åŸåˆ°æŸä¸ªæäº¤è®°å½•

- git reset --hard æŒ‡å®šç‰ˆæœ¬å·
- copy src åˆ°æœ¬åœ°
- git reset --hard æœ€æ–°ç‰ˆæœ¬å·
- ä¸´æ—¶æ–‡ä»¶å¤¹è¦†ç›–æœ¬åœ°
- git add .
- git commit -m 'è¿˜åŸ<æŒ‡å®šç‰ˆæœ¬å·>'
- git push
